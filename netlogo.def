Bootstrap: docker
From: ubuntu:latest

%arguments
    NETLOGO_VERSION=6.3.0

%environment
    LC_ALL=C.UTF-8
    LANG=C.UTF-8
    DISPLAY=:14
    # Set Java environment variables
    export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
    export PATH=$JAVA_HOME/bin:$PATH
    export PATH=/app/netlogo:$PATH

%post
    # Update package list and install Java
    apt-get update
    apt-get install -y wget openjdk-17-jdk
    wget https://ccl.northwestern.edu/netlogo/{{NETLOGO_VERSION}}/NetLogo-{{NETLOGO_VERSION}}-64.tgz
    mkdir -p /app/netlogo
    tar xzf NetLogo-{{NETLOGO_VERSION}}-64.tgz -C /app/netlogo --strip-components=1
    sed -i 's/Xmx1024m/Xmx4g/' /app/netlogo/netlogo-headless.sh

%files
    # Add files to container
    #/path/to/your/files

%runscript
    # Command to run when container starts
    # /app/netlogo/netlogo-headless.sh

